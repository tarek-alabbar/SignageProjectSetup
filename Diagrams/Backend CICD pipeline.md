[![](https://mermaid.ink/img/pako:eNqVV8tuIkcU_ZWrXkS2BDbgF7AYCZvxONIwYmCkSJE3RfelKdFd1amHbWxZyiLZJYs8VlEiLzP_kL-ZL_An5FY_3A0Nk4kXdrvr3Pc5t-DB82WAXt_T-J1F4eOQs1Cx-FoA_SRMGe7zhAkDQ7wBpuH56ZePn77_-fnp13_cK4xkgqqOfsONQ9OfKzvbcnw1KI9h4Bsuhd4SU_pLVA6ZP00w5NqoVR06uLcKHTJ7GCQJTFHdcB-3uD0vgdP3b-uAkRTcSFWi8hcZMvv9ThoEeUNJURsaOaAPl8iMs8h7E6MwGZ5eNF-9oor7EFJzEqsXMM_AhwJvm_lzBiaYA18N-vBB8TCkKOMJ3Eq1nEfydnsaKfriaxjzBCMuEJrO5mKB_jJvLSEKr-lraQ248ddOJ6ipGIR39g1SqsxfshDrTgJpBJ3PLI-CXYeGXMGesgIsdSj9V-_XA9K5y4R-USkUbCtCo28VNyvQPhOwNxWr5eFUCqbe2xnuV7vCImJEFOXVw5jpPPvCazGKT3_-6LrkZ7iEcBhUkDQGQtLoXE9YsII5sULhDcd8CBhpLKJcMh6tWVfj_PVTJc58E1mJc8nvgGttsZJxhTvjlDf8rjhGEXwBKy9cbydp3vAVjFAVHa54nrgNQMOqlpfxMM0rdZGdEW8xmBEraj4GQaBQaxpj7Jiv19icApJEUXqUROySACMhZlx8jtHDKqOHmERy5cymhoVchDv14tzCTDHhLzaEs00GFfRnaQ7Npi_FnIdWMbe0qGsRMo27jBI7i7iu-7xQJHeEIC3HtapQGezd82SNy5lVuof69fpBRzLfMCmkhE5vWeKAeidweJ7p6vUlxDzMCtKwVxgMz_M8hufN0u2oRNKUkwgN7sw2FW0sl5jpvhq9aMT05ZjIpW1UoEodZ4gPzsEWIeduvmG0XJw4YyYsi4ClPGNRCd6g1Xh0-JYUnQNRA82_elvVaknbWbSG2kpmgU0vrtJgYwLnkcVmqBBFZdB19I4xlAHKSXz5NKoBXtYAcUYZWCC1dQFx9vZFQ-4nR5b-U4HAYW5CyyaRvFpD-eRGdZXBMqP1WVW9F0Nzy3dYKkBb36flMbfRulk-Zrc-ctmoTHRA04C9m_ZB5-Bov25TbK7np9_-3hIHhDR8zn22PsN0o68V4vb6zkLyPrn9nhulO7624rfQ4_np9x9gYIlLSkaR26cZr2jHSquBqKrXMquLZ1LY1Wf_X03I8mukoTGAcpuvXSppM6oCXO9FNYDrQLGTgs0422S4cdsBEwENNjP9P3fbWGrTrFQ22uB1JGUCr8lsBSckMGFN9WrdwXhaC1FODbqpjOL-VpuXJAaCRat7BFTKfUJgO2KUF3IahTZeQtIlIvO4arCuqoGQMXmnqg36ZpNUFS7mg_7jI332QUVyueLhopLStgGLwGt4oeKB1zfKYsOje5kuQ_rXe3CQa88sMMZrr0-PAVPLa-9aPJINfVD-Vsq4MFPShguvP2fEmIZnk4Di5d8lXiAUDNWFtMJ4_V6rnfrw-g_enddvt08Pjnqn3ZOz3ulRq9d1pyuv32kdHLdP2q1ep3vaOut0umePDe8-Dds5OD5pdc66reOjs-PT3nG30_AwcK0YZd9o0i82j_8CyfAZBA?type=png)](https://mermaid.live/edit#pako:eNqVV8tuIkcU_ZWrXkS2BDbgF7AYCZvxONIwYmCkSJE3RfelKdFd1amHbWxZyiLZJYs8VlEiLzP_kL-ZL_An5FY_3A0Nk4kXdrvr3Pc5t-DB82WAXt_T-J1F4eOQs1Cx-FoA_SRMGe7zhAkDQ7wBpuH56ZePn77_-fnp13_cK4xkgqqOfsONQ9OfKzvbcnw1KI9h4Bsuhd4SU_pLVA6ZP00w5NqoVR06uLcKHTJ7GCQJTFHdcB-3uD0vgdP3b-uAkRTcSFWi8hcZMvv9ThoEeUNJURsaOaAPl8iMs8h7E6MwGZ5eNF-9oor7EFJzEqsXMM_AhwJvm_lzBiaYA18N-vBB8TCkKOMJ3Eq1nEfydnsaKfriaxjzBCMuEJrO5mKB_jJvLSEKr-lraQ248ddOJ6ipGIR39g1SqsxfshDrTgJpBJ3PLI-CXYeGXMGesgIsdSj9V-_XA9K5y4R-USkUbCtCo28VNyvQPhOwNxWr5eFUCqbe2xnuV7vCImJEFOXVw5jpPPvCazGKT3_-6LrkZ7iEcBhUkDQGQtLoXE9YsII5sULhDcd8CBhpLKJcMh6tWVfj_PVTJc58E1mJc8nvgGttsZJxhTvjlDf8rjhGEXwBKy9cbydp3vAVjFAVHa54nrgNQMOqlpfxMM0rdZGdEW8xmBEraj4GQaBQaxpj7Jiv19icApJEUXqUROySACMhZlx8jtHDKqOHmERy5cymhoVchDv14tzCTDHhLzaEs00GFfRnaQ7Npi_FnIdWMbe0qGsRMo27jBI7i7iu-7xQJHeEIC3HtapQGezd82SNy5lVuof69fpBRzLfMCmkhE5vWeKAeidweJ7p6vUlxDzMCtKwVxgMz_M8hufN0u2oRNKUkwgN7sw2FW0sl5jpvhq9aMT05ZjIpW1UoEodZ4gPzsEWIeduvmG0XJw4YyYsi4ClPGNRCd6g1Xh0-JYUnQNRA82_elvVaknbWbSG2kpmgU0vrtJgYwLnkcVmqBBFZdB19I4xlAHKSXz5NKoBXtYAcUYZWCC1dQFx9vZFQ-4nR5b-U4HAYW5CyyaRvFpD-eRGdZXBMqP1WVW9F0Nzy3dYKkBb36flMbfRulk-Zrc-ctmoTHRA04C9m_ZB5-Bov25TbK7np9_-3hIHhDR8zn22PsN0o68V4vb6zkLyPrn9nhulO7624rfQ4_np9x9gYIlLSkaR26cZr2jHSquBqKrXMquLZ1LY1Wf_X03I8mukoTGAcpuvXSppM6oCXO9FNYDrQLGTgs0422S4cdsBEwENNjP9P3fbWGrTrFQ22uB1JGUCr8lsBSckMGFN9WrdwXhaC1FODbqpjOL-VpuXJAaCRat7BFTKfUJgO2KUF3IahTZeQtIlIvO4arCuqoGQMXmnqg36ZpNUFS7mg_7jI332QUVyueLhopLStgGLwGt4oeKB1zfKYsOje5kuQ_rXe3CQa88sMMZrr0-PAVPLa-9aPJINfVD-Vsq4MFPShguvP2fEmIZnk4Di5d8lXiAUDNWFtMJ4_V6rnfrw-g_enddvt08Pjnqn3ZOz3ulRq9d1pyuv32kdHLdP2q1ep3vaOut0umePDe8-Dds5OD5pdc66reOjs-PT3nG30_AwcK0YZd9o0i82j_8CyfAZBA)

**Mermaid code:**

```
sequenceDiagram
    participant Dev as ğŸ‘¨â€ğŸ’» Developer
    participant Git as GitHub
    participant GHA as GitHub Actions
    participant Docker as Docker Registry
    participant Azure as Azure App Service
    participant DB as Azure SQL
    participant Monitor as Azure Monitor

    Note over Dev,Monitor: Feature Development
    Dev->>Git: git push feature/new-feature
    Git->>GHA: Trigger PR workflow

    Note over GHA: CI Pipeline - PR Checks
    GHA->>GHA: Checkout code
    GHA->>GHA: Restore NuGet packages
    GHA->>GHA: dotnet build
    GHA->>GHA: dotnet test (run unit tests)
    GHA->>GHA: Run code coverage
    GHA->>GHA: Run security scan (Snyk/SonarQube)

    alt All Checks Pass
        GHA-->>Git: âœ… PR checks passed
        Git-->>Dev: Ready for review
    else Checks Failed
        GHA-->>Git: âŒ PR checks failed
        Git-->>Dev: Fix issues
        Dev->>Git: Push fixes
    end

    Note over Dev,Monitor: Code Review & Merge
    Dev->>Git: Request review
    Git->>Dev: Code review feedback
    Dev->>Git: Address comments
    Git->>Git: Approve & merge to main

    Note over GHA: CD Pipeline - Deploy to Staging
    Git->>GHA: Trigger main branch workflow
    GHA->>GHA: Checkout main branch
    GHA->>GHA: dotnet build --configuration Release
    GHA->>GHA: dotnet publish
    GHA->>GHA: Create deployment package (zip)

    GHA->>Azure: Deploy to Staging slot
    Azure->>Azure: Swap to staging slot
    Azure->>DB: Run EF migrations (staging DB)
    DB-->>Azure: Migrations complete

    GHA->>Azure: Run smoke tests
    Azure-->>GHA: Smoke test results

    alt Smoke Tests Pass
        GHA->>GHA: Wait for manual approval
        Note over GHA: PM/Lead approves in GitHub
        GHA->>Azure: Swap staging to production
        Azure->>Azure: Blue-green deployment
        Azure->>DB: Run EF migrations (production DB)
        DB-->>Azure: Migrations complete
        Azure->>Monitor: Start health monitoring
        Monitor->>Azure: Check /health endpoint

        alt Health Check Pass
            Monitor-->>GHA: âœ… Deployment successful
            GHA->>Git: Create release tag (v1.2.3)
            GHA-->>Dev: ğŸ“§ Deployment success notification
        else Health Check Fail
            Monitor-->>Azure: âŒ Health check failed
            Azure->>Azure: ğŸ”„ Auto rollback to previous version
            Azure-->>GHA: Rollback complete
            GHA-->>Dev: ğŸ“§ Deployment failed, rolled back
        end
    else Smoke Tests Fail
        GHA-->>Dev: âŒ Staging deployment failed
        Note over Dev: Fix issues and redeploy
    end

    Note over Dev,Monitor: Post-Deployment Monitoring
    loop Every 5 minutes
        Monitor->>Azure: Check application metrics
        Monitor->>Monitor: Analyze error rates
        Monitor->>Monitor: Check response times

        alt Anomaly Detected
            Monitor-->>Dev: ğŸš¨ Alert: High error rate
        end
    end
```
