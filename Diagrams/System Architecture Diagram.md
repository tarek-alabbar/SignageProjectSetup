[![](https://mermaid.ink/img/pako:eNqVVdGO2jgU_RXLK1WtCoGQECBaVSKk7Mxq2qUT6Ehl-mASB6wJcdZxtqXDfES_oC_7gfsJvbaTEjojVcsD2D73XB_fe2zuccwTin28FaTYoWVwmyP4lNXGLNziVUkFuiIHKm6xAdVHra7_-_b1Xz1CgeCf4PejCaB5YgaPkk2_VIKiWcarBHXRXPBcquBW4hu6KZmk62tKYtnMft-I3ivDjSSRLFYAmhZFqRET-xItDwWNYsEKNXkPvP-pJyDx3U9ypovLtfX29bLB1EJLDUhAERX_sLjWGC109IwDOP54yhMG6-f1Ad5doZBIsiGl4agClh0UUpUFBm9owkhHQ1G8o0mVqdULSoTcUCLLF620QcY3a5NXDaE6XJCtyavzoDkDup5f7gEp0TOoTEJ5-cvahKwsMnKohbWLssiUHdaLm2k9bHUBFo10UxV0w8UdGOQlmhE4TEu6nq-fX-YJ_UyTMNAsvZig5tx67ZmpyItfCgYBWVeyPTSU7_dVzmKwCs_byiO2zUl2va5_0UW10XuAnSIODZZAzXMaK97T-2m7d7uvjraFLpbLRXRsTGrweqJDBha6fh0tlWfguFlm-vDnDaxUckdzWSs8qghDV6GK6ljoXUXFobcqEiLpEQx0HuBaaFVknCS9kH_K1eDnph-1JR6rGlrox3GbxtV1M5sBs66PITfF6lrAXlTlDr3lkqW1-LKl3nwbT-i9PAstCBMs36Jr-ndFS7OjsRRarS5D5Qx4gVpJWvSRheZUxrtzQ_wBF6xHCtYrdGSvrMGnc4wt1FTIGMkoYAK6jKYxXLmzSrWYE0vfJ4queAzdO2jiX2masRyucVUUXMij8fEjrt23TlfWXAh4uKryVOLzlqvS2mCpUy9Uoc8egRPV7NMuuRZhNh7oJAlKuUD1FTYWB8OhWv1TKUp5UHsoe6csy_zfqJ0O07QNNi4yuDubzof9Nq5OYrCBPfHmThsLgxqazyfj_hlNv1wGnMwGo-AMrGtac13Xcbw2bA5u0NFkOHTHbbRxrsH7_WAWurgD_3Uswb4UFe3gPRV7oqb4XjFvMVzMPbx2PgwTIu7U6_EAnILkHzjfNzTBq-0O-ynJSphVujMhI_AUnULg5aBixqtcYt91PJ0D-_f4M_ZHA8sbuZ7rDhxvMrCdcQcfsN-FidX3XHsIxwRo7D108Be9q225tjMZjm3XGTquN7Y7GLwM7nxj_r71v_jDdzPzdDw?type=png)](https://mermaid.live/edit#pako:eNqVVdGO2jgU_RXLK1WtCoGQECBaVSKk7Mxq2qUT6Ehl-mASB6wJcdZxtqXDfES_oC_7gfsJvbaTEjojVcsD2D73XB_fe2zuccwTin28FaTYoWVwmyP4lNXGLNziVUkFuiIHKm6xAdVHra7_-_b1Xz1CgeCf4PejCaB5YgaPkk2_VIKiWcarBHXRXPBcquBW4hu6KZmk62tKYtnMft-I3ivDjSSRLFYAmhZFqRET-xItDwWNYsEKNXkPvP-pJyDx3U9ypovLtfX29bLB1EJLDUhAERX_sLjWGC109IwDOP54yhMG6-f1Ad5doZBIsiGl4agClh0UUpUFBm9owkhHQ1G8o0mVqdULSoTcUCLLF620QcY3a5NXDaE6XJCtyavzoDkDup5f7gEp0TOoTEJ5-cvahKwsMnKohbWLssiUHdaLm2k9bHUBFo10UxV0w8UdGOQlmhE4TEu6nq-fX-YJ_UyTMNAsvZig5tx67ZmpyItfCgYBWVeyPTSU7_dVzmKwCs_byiO2zUl2va5_0UW10XuAnSIODZZAzXMaK97T-2m7d7uvjraFLpbLRXRsTGrweqJDBha6fh0tlWfguFlm-vDnDaxUckdzWSs8qghDV6GK6ljoXUXFobcqEiLpEQx0HuBaaFVknCS9kH_K1eDnph-1JR6rGlrox3GbxtV1M5sBs66PITfF6lrAXlTlDr3lkqW1-LKl3nwbT-i9PAstCBMs36Jr-ndFS7OjsRRarS5D5Qx4gVpJWvSRheZUxrtzQ_wBF6xHCtYrdGSvrMGnc4wt1FTIGMkoYAK6jKYxXLmzSrWYE0vfJ4queAzdO2jiX2masRyucVUUXMij8fEjrt23TlfWXAh4uKryVOLzlqvS2mCpUy9Uoc8egRPV7NMuuRZhNh7oJAlKuUD1FTYWB8OhWv1TKUp5UHsoe6csy_zfqJ0O07QNNi4yuDubzof9Nq5OYrCBPfHmThsLgxqazyfj_hlNv1wGnMwGo-AMrGtac13Xcbw2bA5u0NFkOHTHbbRxrsH7_WAWurgD_3Uswb4UFe3gPRV7oqb4XjFvMVzMPbx2PgwTIu7U6_EAnILkHzjfNzTBq-0O-ynJSphVujMhI_AUnULg5aBixqtcYt91PJ0D-_f4M_ZHA8sbuZ7rDhxvMrCdcQcfsN-FidX3XHsIxwRo7D108Be9q225tjMZjm3XGTquN7Y7GLwM7nxj_r71v_jDdzPzdDw)

**Mermaid code:**

```
graph TB
    subgraph "User Layer"
        User[ðŸ‘¤ User Browser]
    end

    subgraph "Azure Cloud - Frontend"
        Website[React Website<br/>Azure Static Web Apps<br/>React + TypeScript + Vite]
    end

    subgraph "Azure Cloud - Backend"
        API[.NET Backend API<br/>Azure App Service<br/>ASP.NET Core 8]
        DB[(Azure SQL Database<br/>Users, Devices, Media,<br/>Schedules, Heartbeats)]
        Blob[Azure Blob Storage<br/>Media Files<br/>Images & Videos]
    end

    subgraph "Display Device"
        Player[PWA Player<br/>React PWA<br/>Service Worker + Cache]
        Cache[(IndexedDB<br/>Cached Schedule<br/>& Media)]
    end

    subgraph "Real-time Communication"
        SignalR[SignalR Hub<br/>WebSocket Connection]
    end

    User -->|1. HTTPS| Website
    Website -->|2. REST API Calls<br/>JWT Authentication| API
    API -->|3. Query/Update| DB
    API -->|4. Upload/Download<br/>Media Files| Blob
    Website -->|5. WebSocket<br/>Real-time Updates| SignalR
    SignalR -.->|Push Notifications| API

    Player -->|6. Pairing Request<br/>Device UUID + Code| API
    Player -->|7. Fetch Schedule<br/>GET /api/player/schedule| API
    Player -->|8. Download Media<br/>Direct Access| Blob
    Player -->|9. Store Locally<br/>Offline Support| Cache
    Player -->|10. Heartbeat<br/>Status Updates| API
    API -.->|11. Real-time Push<br/>Schedule Updates| Player

    Cache -->|12. Read for Display<br/>When Offline| Player

    style User fill:#e1f5ff
    style Website fill:#4CAF50
    style API fill:#2196F3
    style DB fill:#FF9800
    style Blob fill:#9C27B0
    style Player fill:#F44336
    style Cache fill:#795548
    style SignalR fill:#00BCD4
```
